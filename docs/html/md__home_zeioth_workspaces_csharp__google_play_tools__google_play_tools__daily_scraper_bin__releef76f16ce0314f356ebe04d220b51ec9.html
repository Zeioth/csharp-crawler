<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <!-- For Mobile Devices -->
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
        <meta name="generator" content="Doxygen 1.8.9.1"/>
        <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
        <title>Google Play Tools: Valence</title>
        <!--<link href="tabs.css" rel="stylesheet" type="text/css"/>-->
        <script type="text/javascript" src="dynsections.js"></script>
        <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
        <link href="doxygen.css" rel="stylesheet" type="text/css" />
        <link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
        <script type="text/javascript" src="doxy-boot.js"></script>
    </head>
    <body>
        <nav class="navbar navbar-default" role="navigation">
            <div class="container">
                <div class="navbar-header">
                    <a class="navbar-brand">Google Play Tools </a>
                </div>
            </div>
        </nav>
        <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
            <div class="content" id="content">
                <div class="container">
                    <div class="row">
                        <div class="col-sm-12 panel panel-default" style="padding-bottom: 15px;">
                            <div style="margin-bottom: 15px;">
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Home</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="wiki.htm"><span>Wiki</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Valence </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This add-on provides the ability for you to debug various remote targets from the Firefox Developer Tools. The idea is that you can use one solid set of developer tools to debug all the things you need. This is the dream, anyhow. We're going to try and make this happen.</p>
<p>This module sort of works, but it probably won't do all the things you need to do as a web developer - yet. You're curious though, so here is some basic information to get started. Curiosity is good, it is how we move forward as a people.</p>
<h2>How to Interact With The Thing </h2>
<p>There are three ways to interact with this tool right now: WebIDE, some Developer Toolbar commands, or a toolbar button.</p>
<p>WebIDE is the main tool for debugging remote devices and this add-on provides additional runtime options in the Custom section for Chrome and iOS. You can learn more about WebIDE in the <a href="https://developer.mozilla.org/docs/Tools/WebIDE">Mozilla Developer Network</a>.</p>
<p>If you prefer interacting with a command-line tool, use the commands <code>chrome</code>, <code>android</code> and <code>ios</code> from the Developer Toolbar. These should automatically launch a browser for you and connect appropriately - assuming you've met the installation requirements below.</p>
<p>For a quick setup when working on the add-on itself, it will add a (weirdly ambiguous) new icon to your browser, once you set the pref <code>extensions.fxdevtools-adapters@mozilla.org.enableToolbarButton</code> to <code>true</code>. You can toggle its value from <code>about:config</code>, or by adding it in a JSON file with preference overrides that you provide to jpm via the <code>--prefs</code> option (check out <code>jpm --help</code> for the right syntax). When you click it, it will attempt to connect the Firefox DevTools to whatever is on port 9222. For example, if you start an instance of Chrome Canary on port 9222 (use flag <code>--remote-debugging-port=9222</code>), it will try and connect to that.</p>
<h2>Installation for All Y'all </h2>
<p>Before you can build and run the extension, here are a few things you'll need to do:</p>
<ol type="1">
<li><code>git clone git@github.com:mozilla/valence.git</code></li>
<li>Make sure you have an updated copy of Firefox Nightly installed. If you need to install Nightly, you can get it <a href="https://nightly.mozilla.org/">here</a>.</li>
<li>Make sure you have node (and subsequently npm) installed. Instructions for that are <a href="http://nodejs.org/download/">here</a>.</li>
<li>Install jpm with <code>npm install -g jpm</code>. jpm is a node utility for developing browser add-ons.</li>
</ol>
<p>Then from your extension folder you can use <code>jpm run -v</code>, with the<code>-b</code> option to use your recent Firefox Nightly, to run a new Firefox process with the extension installed.</p>
<p>Now that you've done that, you can follow the instructions below for each applicable debug target/browser.</p>
<p>For more detailed building instructions and instructions for building the ios-webkit-debug-proxy binaries, see <a href="data/building.html">building.html</a>.</p>
<h2>Debugging Chrome on Desktop </h2>
<p>Clicking the button on the Firefox toolbar will connect to the debug target on port 9222. To debug Chrome on Desktop, the process must have remote debugging enabled and set to this port.</p>
<p>The important flag is <code>--remote-debugging-port=9222</code>. There is a page with information on how to <a href="http://www.chromium.org/developers/how-tos/run-chromium-with-flags">run the Chrome process with these flags</a>.</p>
<p>There are some other flags that can be helpful if you'd like to run this alongside another Chrome profile. By running with <code>--no-first-run</code>, <code>--no-default-browser-check</code>, and <code>--user-data-dir</code> you can run this process alongside another Chrome profile.</p>
<p>For example, on OSX, you could run the following command to start a debuggable copy of Chrome: </p><pre class="fragment">&gt; /Applications/Google\ Chrome.app/Contents/MacOS/Google\ Chrome --remote-debugging-port=9222 --no-first-run --no-default-browser-check --user-data-dir=$(mktemp -d -t 'chrome-remote_data_dir')
</pre><p>If you click on the toolbar button and nothing happens, you most likely don't have anything running on port 9222. Check the <a href="https://developer.mozilla.org/docs/Tools/Browser_Console">Browser Console</a> to see what has gone wrong.</p>
<h2>Debugging Chrome on Android </h2>
<p>In addition to the installation instructions, follow <a href="https://developer.chrome.com/devtools/docs/remote-debugging-legacy">these instructions</a> to turn on remote debugging and set up adb.</p>
<h2>Debugging Safari, Firefox, and other WebViews on iOS </h2>
<p>In addition to the installation instructions, you will need to enable developer support on your device. Follow the instructions on <a href="https://developer.apple.com/library/mac/documentation/AppleApplications/Conceptual/Safari_Developer_Guide/GettingStarted/GettingStarted.html">this page</a> (in the "To enable Web Inspector on iOS" section) to get started. Note: you can also use the iOS simulator if you have Xcode installed.</p>
<p>Debugging Safari, Firefox, and other WebViews on iOS is possible through the use of the following open source libraries that come bundled with this extension:</p>
<ol type="1">
<li><a href="https://github.com/google/ios-webkit-debug-proxy">ios_webkit_debug_proxy</a> version 1.4 on both OS X and Linux</li>
<li><a href="https://github.com/libimobiledevice/libimobiledevice">libimobiledevice</a> version 1.1.5 on OS X, 1.2.0pre on Linux</li>
<li><a href="https://github.com/libimobiledevice/libplist">libplist</a> version 1.10 on OS X, 1.12pre on Linux</li>
<li><a href="https://github.com/libimobiledevice/libusbmuxd">libusbmuxd</a> version 1.0.8 on OS X, 1.0.0pre on Linux</li>
</ol>
<p>On Windows we are using the <a href="https://github.com/artygus/ios-webkit-debug-proxy-win32">ios-webkit-debug-proxy-win32</a> port at changeset 4318011f698e3b04c3e446d1c5dbe313c0d322b7, until it gets merged back upstream. An additional runtime requirement on Windows is to have iTunes installed, or at least the Apple Mobile Device Support and Apple Application Support applications that come with it.</p>
<h2>Why did you start this project? </h2>
<p>We realized that debugging individual browsers in their respective vendor silos is painful, frustrating, and at times downright demoralizing. We wanted to make better tools so that web developers are relieved of this anguish (as much as possible). You should test this thing as it becomes more stable, and let us know how we can make the cross-platform debugging experience better.</p>
<h2>Notes </h2>
<p>Note that this project should be treated as <em>ALPHA</em> software - implementation is far from finished.</p>
<p>The UI for interacting with this project will change soon - the commands will likely stick around but the ambiguous button in your browser will probably not. Eventually there will even be nicer buttons than any of this. Dare to dream.</p>
<p>If you notice that the install or usage instructions should be different, please help us by sending a PR for this README. This project is changing fast and so information here may be out of date. </p>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
</div>
</div>
</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>
Generated on Fri Apr 15 2016 20:09:48 for Google Play Tools by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>